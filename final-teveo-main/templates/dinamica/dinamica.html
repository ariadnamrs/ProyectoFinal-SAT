{% load static %}

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>TeVeO</title>
    <script src='https://unpkg.com/htmx.org@1.9.10'></script>
    <link rel="stylesheet" href="{% static 'TeVeO/main.css' %}">
    <link rel="stylesheet" href="dynamic.css" type="text/css">
    <link rel="shorcut icon" type="image/x-icon" href="{% static 'pictures_16455.ico' %}">

</head>
<body>

    <div id="image-container"
         hx-get="{% url 'dynamic' id %}"
         hx-trigger="load, every 3s"
         hx-target="#content_embedded"
         hx-swap="innerHTML">
    </div>

        <div id='content_embedded'>
             <div id="header">
                <div id="title">
                    <h1><a href="/">TeVeO </a></h1>
                </div>
                <div id="comentador">
                    Comentador: {{ comentador }}
                </div>
                <ul id="nav">
                    <li><a href="/" >Principal</a></li>
                    <li><a href="/camaras">Camaras </a></li>
                    <li><a href="/configuracion">Configuracion</a></li>
                    <li><a href="/help">Ayuda</a></li>
                    <li><a href="admin/">Admin</a></li>
                </ul>
            </div>
            <div id="main-content">
                <h2><li>Imagen de la camara:</li></h2>
                <img src="data:image/jpeg;base64,{{ image_base64 }}" alt="Dynamic Image" class="img">
                <br>
                <h2><li>Comentarios de la camara:</li></h2>
                    {% for comentario in comentarios %}
                        <div> Comentario: {{ comentario.body }} </div>
                    {% endfor %}
                <div><a href="{{ camara.id }}">Accede a la camara</a></div>
                <a href="/comentario?id={{ id }}">Poner un nuevo comentario</a>
            </div>
            <div id="footer" class="list-footer-display__clear">
                Comentarios: {{ num_comentarios }} -- Camaras: {{ num_camaras }}
            </div>
        </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</html>


